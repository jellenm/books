{"dependencies":[],"generated":{"js":"\"use strict\";\n\nvar WIDTH = 800,\n    HEIGHT = 800;\nvar canvas = document.getElementById('canvas'),\n    context = canvas.getContext('2d');\ncanvas.width = WIDTH;\ncanvas.height = HEIGHT;\nvar spritPaint = {\n  paint: function paint(sprite, context) {\n    var w = sprite.width,\n        l = sprite.left,\n        t = sprite.top,\n        r = w / 2;\n    context.save();\n    context.beginPath();\n    context.strokeStyle = '#000';\n    context.moveTo(WIDTH / 2, HEIGHT / 2);\n    context.lineTo(l, t);\n    context.stroke();\n\n    context.save();\n    context.beginPath();\n    context.arc(l, t, r, 0, 2 * Math.PI, false);\n    context.clip();\n\n    context.shadowColor = 'rgb(0,0,0)';\n    context.shadowOffsetX = -4;\n    context.shadowOffsetY = -4;\n    context.shadowBlur = 8;\n\n    context.lineWidth = 2;\n    context.strokeStyle = 'rgb(100,100,195)';\n    context.fillStyle = 'rgba(30,144,255,0.15)';\n    context.fill();\n    context.stroke();\n    context.restore();\n  }\n},\n    ballSprite = new Sprite('circle', spritPaint);\nfunction paintClock() {\n  var current = new Date(),\n      hour = current.getHours(),\n      second = current.getSeconds(),\n      min = current.getMinutes(),\n      x = void 0,\n      y = void 0,\n      angle = void 0;\n\n  context.clearRect(0, 0, WIDTH, HEIGHT);\n  grid(WIDTH / 2 - 200, 20, 20);\n\n  //时\n  angle = (hour * 360 / 12 - 90 + min * 360 / 12 / 60) * Math.PI / 180;\n  x = WIDTH / 2 + Math.cos(-angle) * (WIDTH / 2 - 200);\n  y = HEIGHT / 2 - Math.sin(-angle) * (WIDTH / 2 - 200);\n  ballSprite.top = y;\n  ballSprite.left = x;\n  ballSprite.width = 60;\n\n  ballSprite.paint(context);\n\n  //分\n  angle = (min * 360 / 60 - 90 + second * 360 / 60 / 60) * Math.PI / 180;\n  x = WIDTH / 2 + Math.cos(-angle) * (WIDTH / 2 - 200);\n  y = HEIGHT / 2 - Math.sin(-angle) * (WIDTH / 2 - 200);\n  ballSprite.top = y;\n  ballSprite.left = x;\n  ballSprite.width = 40;\n  ballSprite.paint(context);\n\n  //秒\n  angle = (second * 360 / 60 - 90) * Math.PI / 180;\n  x = WIDTH / 2 + Math.cos(-angle) * (WIDTH / 2 - 200);\n  y = HEIGHT / 2 - Math.sin(-angle) * (WIDTH / 2 - 200);\n  ballSprite.top = y;\n  ballSprite.left = x;\n  ballSprite.width = 20;\n  ballSprite.paint(context);\n}\n\nfunction grid(radius, stepx, stepy) {\n\n  context.save();\n  context.shadowColor = undefined;\n  context.shadowBlur = 0;\n  context.shadowOffsetX = 0;\n  context.shadowOffsetY = 0;\n\n  context.strokeStyle = 'lightgray';\n  context.fillStyle = '#ffffff';\n  context.lineWidth = 0.5;\n  context.fillRect(0, 0, context.canvas.width, context.canvas.height);\n\n  for (var i = stepx + 0.5; i < context.canvas.width; i += stepx) {\n    context.beginPath();\n    context.moveTo(i, 0);\n    context.lineTo(i, context.canvas.height);\n    context.stroke();\n  }\n\n  for (var i = stepy + 0.5; i < context.canvas.height; i += stepy) {\n    context.beginPath();\n    context.moveTo(0, i);\n    context.lineTo(context.canvas.width, i);\n    context.stroke();\n  }\n\n  context.restore();\n\n  context.beginPath();\n  context.arc(WIDTH / 2, HEIGHT / 2, radius, 0, 2 * Math.PI, true);\n  context.closePath();\n  context.strokeStyle = '#000';\n  context.stroke();\n}\n\nfunction animating() {\n  paintClock();\n  requestNextAnimationFrame(animating);\n}\n\nrequestNextAnimationFrame(animating);"},"hash":"21d91eb6db55ea6a53f6816721007d2d"}