{"dependencies":[],"generated":{"js":"\"use strict\";\n\nvar WIDTH = 500,\n    HEIGHT = 300;\nvar canvas = document.getElementById('canvas'),\n    context = canvas.getContext('2d');\ncanvas.width = WIDTH;\ncanvas.height = HEIGHT;\nvar cells = [{ left: 0, top: 0, width: 48, height: 64 }, { left: 54, top: 0, width: 48, height: 64 }, { left: 105, top: 0, width: 42, height: 64 }, { left: 152, top: 0, width: 46, height: 64 }, { left: 203, top: 0, width: 55, height: 64 }, { left: 262, top: 0, width: 50, height: 64 }, { left: 318, top: 0, width: 49, height: 64 }, { left: 372, top: 0, width: 46, height: 64 }, { left: 423, top: 0, width: 37, height: 64 }],\n    velocityX = 100,\n    spriteTop = 100,\n    spriteMove = {\n  lastTime: 0,\n  execute: function execute(sprite, context, time) {\n    sprite.left -= sprite.velocityX * (time - this.lastTime) / 1000;\n    sprite.top = spriteTop;\n    if (sprite.left < 0) {\n      sprite.left = WIDTH;\n    }\n    this.lastTime = time;\n  }\n},\n    sheetMove = {\n  interval: 100,\n  lastTime: 0,\n  execute: function execute(sprite, context, time) {\n    if (time - this.lastTime > this.interval) {\n      sprite.painter.advance();\n      this.lastTime = time;\n    }\n  }\n},\n    spriteImage = new Image(),\n    spriteWidth = void 0,\n    spriteHeight = void 0,\n    sprite = new Sprite('sprite', new SpriteSheetPainter(cells), [spriteMove, sheetMove]);\n\nfunction drawBg() {\n  var splite = 20;\n  for (var i = 0.5 + splite; i < HEIGHT; i += splite) {\n    context.beginPath();\n    context.moveTo(0, i);\n    context.lineTo(WIDTH, i);\n    context.strokeStyle = '#cccccc';\n    context.lineWidth = 0.5;\n    context.stroke();\n  }\n  context.drawImage(spriteImage, 0, 0);\n}\n\nfunction animate(time) {\n  context.clearRect(0, 0, WIDTH, HEIGHT);\n  drawBg();\n  sprite.update(context, time);\n  sprite.paint(context);\n  window.requestNextAnimationFrame(animate);\n}\n\nspriteImage.onload = function () {\n  spriteWidth = spriteImage.width;\n  spriteHeight = spriteImage.height;\n  window.spritesheet = spriteImage;\n  sprite.top = spriteTop;\n  sprite.left = spriteTop;\n  sprite.velocityX = velocityX;\n  drawBg();\n  requestNextAnimationFrame(animate);\n};\nspriteImage.src = './running-sprite-sheet.png';"},"hash":"45ce526fd23be5aa9a1b02c3eba3a6b3"}