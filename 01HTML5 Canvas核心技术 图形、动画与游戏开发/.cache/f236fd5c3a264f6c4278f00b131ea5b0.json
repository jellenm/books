{"dependencies":[{"name":"./ploygon.js","dynamic":true}],"generated":{"html":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n\t<meta charset=\"UTF-8\">\r\n\t<title>Document</title>\r\n</head>\r\n<body>\r\n\t<canvas id=\"canvas\"></canvas>\r\n\r\n\t<script src=\"/dist/06316525fc32a0438e13279ce79c53f5.js\"></script>\r\n\t<script>\r\n\t\t\r\n\t\tlet canvas = document.getElementById('canvas'),\r\n\t\t\tcontext = canvas.getContext('2d'),\r\n\t\t\tCANVAS_WIDTH = 800,\r\n\t\t\tCANVAS_HEIGHT = 800;\r\n\t\tlet polygons = [],\r\n\t\t\tediting = false,\r\n\t\t\tdragging,\r\n\t\t\tstartPos={x:0,y:0};\r\n\t\tcanvas.width = CANVAS_WIDTH;\r\n\t\tcanvas.height = CANVAS_HEIGHT;\r\n\r\n\r\n\t\tfunction drawGrid(){\r\n\t\t\tcontext.save();\r\n\r\n\t\t\tvar step = 20;\r\n\t\t\tcontext.strokeStyle = '#ccc'; \r\n\t\t\tcontext.lineWidth = 0.5;\r\n\r\n\t\t\tfor(var i=step+0.5;i<CANVAS_WIDTH;i+=step){\r\n\t\t\t\tcontext.moveTo(i,0);\r\n\t\t\t\tcontext.lineTo(i,CANVAS_HEIGHT);\r\n\t\t\t}\r\n\t\t\tcontext.stroke();\r\n\r\n\t\t\tfor(i=step+0.5;i<CANVAS_HEIGHT;i+=step){\r\n\t\t\t\tcontext.moveTo(0,i);\r\n\t\t\t\tcontext.lineTo(CANVAS_WIDTH,i);\r\n\t\t\t}\r\n\t\t\tcontext.stroke();\r\n\r\n\t\t\tcontext.restore();\r\n\t\t}\r\n\t\tdrawGrid();\r\n\r\n\t\tlet ploygon = new Ploygon(0,6,50,{x:300,y:300});\r\n\t\tploygon.fill(context);\r\n\r\n\t\tdocument.addEventListener('mousedown',function(e){\r\n\t\t\tlet pos = {\r\n\t\t\t\tx:e.offsetX -canvas.getBoundingClientRect().left,\r\n\t\t\t\ty:e.offsetY -canvas.getBoundingClientRect().top\r\n\t\t\t}\r\n\t\t\tploygon.createPath(context);\r\n\t\t\tif(context.isPointInPath(pos.x,pos.y)){\r\n\t\t\t\tediting = true;\r\n\t\t\t\tdragging = ploygon;\r\n\t\t\t\tstartPos['x'] = pos['x'] - ploygon.pos['x'];\r\n\t\t\t\tstartPos['y'] = pos['y'] - ploygon.pos['y'];\r\n\t\t\t}\r\n\t\t},false);\r\n\r\n\t\tdocument.addEventListener('mousemove',function(e){\r\n\t\t\tlet pos = {\r\n\t\t\t\tx:e.offsetX -canvas.getBoundingClientRect().left,\r\n\t\t\t\ty:e.offsetY -canvas.getBoundingClientRect().top\r\n\t\t\t}\r\n\t\t\tif(editing&&dragging){\r\n\t\t\t\tploygon['pos']['x'] = pos['x'] - startPos['x'];\r\n\t\t\t\tploygon['pos']['y'] = pos['y'] - startPos['y'];\r\n\t\t\t\tcontext.clearRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);\r\n\t\t\t\tdrawGrid();\r\n\t\t\t\t\r\n\t\t\t\tploygon.fill(context);\r\n\t\t\t}\r\n\t\t},false);\r\n\t\tdocument.addEventListener('mouseup',function(e){\r\n\t\t\tediting = false;\r\n\t\t},false);\r\n\r\n\t\t\r\n\r\n\t</script>\r\n</body>\r\n</html>"},"hash":"ec212eeafee54b6cbf745217866c519b"}